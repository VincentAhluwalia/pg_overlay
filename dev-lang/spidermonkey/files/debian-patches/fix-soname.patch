From: "Laszlo Boszormenyi (GCS)" <gcs@debian.org>
Date: Fri, 2 May 2014 22:20:45 +0200
Subject: fix soname

Add soname switch to linker, regardless of Operating System

Bug-Debian: http://bugs.debian.org/746705
---
 config/rules.mk | 3 +++
 1 file changed, 3 insertions(+)

Index: mozjs-60.8.0/config/rules.mk
===================================================================
--- mozjs-60.8.0.orig/config/rules.mk
+++ mozjs-60.8.0/config/rules.mk
@@ -367,6 +367,9 @@ endif
 endif
 EXTRA_DEPS += $(SYMBOLS_FILE)
 endif
+
+EXTRA_DSO_LDOPTS += -Wl,-soname,lib$(JS_LIBRARY_NAME).so.0
+
 #
 # GNU doesn't have path length limitation
 #

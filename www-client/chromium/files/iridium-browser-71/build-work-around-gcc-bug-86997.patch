From a5d38df645e65ebd2b097184c191dea2ae8d7851 Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Fri, 9 Nov 2018 15:50:17 +0100
Subject: [PATCH 59/60] build: work around gcc bug 86997

https://gcc.gnu.org/bugzilla/show_bug.cgi?id=86997
---
 components/google/core/common/google_util.cc | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/components/google/core/common/google_util.cc b/components/google/core/common/google_util.cc
index a44c84393820..d620c20d8fc9 100644
--- a/components/google/core/common/google_util.cc
+++ b/components/google/core/common/google_util.cc
@@ -116,8 +116,7 @@ bool IsCanonicalHostGoogleHostname(base::StringPiece canonical_host,
   // same page.
   StripTrailingDot(&tld);
 
-  static base::NoDestructor<std::set<std::string>> google_tlds(
-      {GOOGLE_TLD_LIST});
+  static base::NoDestructor<std::set<std::string>> google_tlds{{GOOGLE_TLD_LIST}};
   return base::ContainsKey(*google_tlds, tld.as_string());
 }
 
@@ -130,10 +129,7 @@ bool IsGoogleSearchSubdomainUrl(const GURL& url) {
 
   base::StringPiece host(url.host_piece());
   StripTrailingDot(&host);
-
-  static base::NoDestructor<std::set<std::string>> google_subdomains(
-      {"ipv4.google.com", "ipv6.google.com"});
-
+  static base::NoDestructor<std::set<std::string>> google_subdomains{{"ipv4.google.com", "ipv6.google.com"}};
   return base::ContainsKey(*google_subdomains, host.as_string());
 }
 
-- 
2.19.1


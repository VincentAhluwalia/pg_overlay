From b19fd25dc1a1e81135411182621e2c58d131b025 Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Wed, 6 May 2015 14:13:00 +0200
Subject: [PATCH 35/55] src: add comments for evil-looking code

A trk:193 alert would show whenever the Omnibar is set to use Google
as search engine. When it does, it tries to find the most suitable TLD
for your request.

Well, since we do not use Google as default search engine, this entry
can be whitelisted, i.e. have no trk: prefix.
---
 components/google/core/browser/google_url_tracker.cc | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/components/google/core/browser/google_url_tracker.cc b/components/google/core/browser/google_url_tracker.cc
index 9a21ca4..4136f962 100644
--- a/components/google/core/browser/google_url_tracker.cc
+++ b/components/google/core/browser/google_url_tracker.cc
@@ -24,10 +24,19 @@
 #include "net/url_request/url_request_status.h"
 
 
+/*
+ * Developer "evmar" writes on
+ * http://neugierig.org/software/chromium/notes/2009/12/iron.html :
+ *
+ * “the GoogleURLTracker class. This unforutnately-named class figures out
+ * whether to use google.com or google.es for searches from the URL bar,”
+ *
+ * (So the naming problem was spotted, yet remains unfixed even today…)
+ */
 const char GoogleURLTracker::kDefaultGoogleHomepage[] =
     "https://www.google.com/";
 const char GoogleURLTracker::kSearchDomainCheckURL[] =
-    "https://www.google.com/searchdomaincheck?format=domain&type=chrome";
+/* trk:193: */ "https://www.google.com/searchdomaincheck?format=domain&type=chrome";
 
 GoogleURLTracker::GoogleURLTracker(scoped_ptr<GoogleURLTrackerClient> client,
                                    Mode mode)
-- 
2.6.6

